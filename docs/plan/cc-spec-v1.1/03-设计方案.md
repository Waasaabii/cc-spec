# 03 - è®¾è®¡æ–¹æ¡ˆ

## æ–°å¢å‘½ä»¤è®¾è®¡

### `cc-spec list`

```python
@app.command()
def list_command(
    type: str = typer.Argument("changes", help="ç±»å‹: changes/tasks/specs/archive"),
    change: str = typer.Option(None, "--change", "-c", help="æŒ‡å®šå˜æ›´ ID"),
    status: str = typer.Option(None, "--status", "-s", help="è¿‡æ»¤çŠ¶æ€"),
    format: str = typer.Option("table", "--format", "-f", help="è¾“å‡ºæ ¼å¼: table/json/simple"),
):
    """åˆ—å‡ºå˜æ›´ã€ä»»åŠ¡ã€è§„æ ¼æˆ–å½’æ¡£è®°å½•"""
```

**å­å‘½ä»¤**:

| å­å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `list changes` | åˆ—å‡ºæ‰€æœ‰å˜æ›´ | `cc-spec list changes` |
| `list tasks` | åˆ—å‡ºå½“å‰å˜æ›´çš„ä»»åŠ¡ | `cc-spec list tasks` |
| `list tasks -c C-001` | åˆ—å‡ºæŒ‡å®šå˜æ›´çš„ä»»åŠ¡ | `cc-spec list tasks -c C-001` |
| `list specs` | åˆ—å‡ºæ‰€æœ‰è§„æ ¼ | `cc-spec list specs` |
| `list archive` | åˆ—å‡ºå½’æ¡£è®°å½• | `cc-spec list archive` |

**è¾“å‡ºç¤ºä¾‹**:

```
$ cc-spec list changes

 ID      Name              Stage       Created         Status
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 C-001   add-oauth         apply       2024-01-15      ğŸŸ¨ è¿›è¡Œä¸­
 C-002   fix-login-bug     specify     2024-01-16      ğŸŸ¦ ç©ºé—²
 C-003   refactor-api      archive     2024-01-10      ğŸŸ© å·²å½’æ¡£

å…± 3 ä¸ªå˜æ›´
```

```
$ cc-spec list tasks -c C-001

 ID              Wave   Status    Estimate   Dependencies
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 C-001:01-SETUP  0      ğŸŸ© å®Œæˆ   30k        -
 C-001:02-MODEL  1      ğŸŸ¨ è¿›è¡Œä¸­ 50k        01-SETUP
 C-001:03-API    1      ğŸŸ¦ ç©ºé—²   45k        01-SETUP

å…± 3 ä¸ªä»»åŠ¡ (Wave 0 å®Œæˆ, Wave 1 è¿›è¡Œä¸­)
```

---

### `cc-spec goto`

```python
@app.command()
def goto_command(
    id: str = typer.Argument(..., help="å˜æ›´ ID æˆ–ä»»åŠ¡ ID"),
    force: bool = typer.Option(False, "--force", "-f", help="å¼ºåˆ¶è·³è½¬ï¼Œå¿½ç•¥çŠ¶æ€æ£€æŸ¥"),
):
    """æ™ºèƒ½è·³è½¬åˆ°æŒ‡å®šå˜æ›´æˆ–ä»»åŠ¡"""
```

**è·³è½¬é€»è¾‘**:

```
è¾“å…¥ ID
    â†“
è§£æ ID æ ¼å¼
    â”œâ”€â”€ C-xxx (å˜æ›´ ID)
    â”‚       â†“
    â”‚   è¯»å–å˜æ›´çŠ¶æ€
    â”‚       â”œâ”€â”€ specify é˜¶æ®µ â†’ æ‰“å¼€ proposal.mdï¼Œæç¤ºç¼–è¾‘
    â”‚       â”œâ”€â”€ clarify é˜¶æ®µ â†’ æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨ï¼Œæç¤ºæ¾„æ¸…
    â”‚       â”œâ”€â”€ plan é˜¶æ®µ â†’ æ‰“å¼€ tasks.mdï¼Œæç¤ºè°ƒæ•´
    â”‚       â”œâ”€â”€ apply é˜¶æ®µ â†’ è¯¢é—®æ˜¯å¦ç»§ç»­æ‰§è¡Œ
    â”‚       â”œâ”€â”€ checklist é˜¶æ®µ â†’ æ˜¾ç¤ºéªŒæ”¶ç»“æœ
    â”‚       â””â”€â”€ archive é˜¶æ®µ â†’ æç¤ºå·²å½’æ¡£
    â”‚
    â””â”€â”€ C-xxx:task-id (ä»»åŠ¡ ID)
            â†“
        è¯»å–ä»»åŠ¡çŠ¶æ€
            â”œâ”€â”€ pending â†’ æ˜¾ç¤ºä»»åŠ¡è¯¦æƒ…ï¼Œæç¤ºå¼€å§‹
            â”œâ”€â”€ in_progress â†’ æ˜¾ç¤ºæ‰§è¡Œè¿›åº¦
            â”œâ”€â”€ completed â†’ æ˜¾ç¤ºå®Œæˆç»“æœ
            â””â”€â”€ failed â†’ æ˜¾ç¤ºå¤±è´¥åŸå› ï¼Œæç¤ºè¿”å·¥
```

**äº¤äº’ç¤ºä¾‹**:

```
$ cc-spec goto C-001

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å˜æ›´: add-oauth                      â”‚
â”‚ é˜¶æ®µ: apply                          â”‚
â”‚ çŠ¶æ€: ğŸŸ¨ è¿›è¡Œä¸­ (Wave 1 æ‰§è¡Œä¸­)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»»åŠ¡è¿›åº¦: 1/3 å®Œæˆ                   â”‚
â”‚ å½“å‰ Wave: 1                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸‹ä¸€æ­¥æ“ä½œ:
  [1] ç»§ç»­æ‰§è¡Œ (cc-spec apply C-001)
  [2] æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ… (cc-spec list tasks -c C-001)
  [3] è¿”å·¥ä»»åŠ¡ (cc-spec clarify C-001)
  [q] é€€å‡º

é€‰æ‹© (1/2/3/q): _
```

---

### `cc-spec update`

```python
@app.command()
def update_command(
    target: str = typer.Argument(None, help="æ›´æ–°ç›®æ ‡: commands/subagent/agents/all"),
    add_agent: list[str] = typer.Option(None, "--add-agent", "-a", help="æ·»åŠ  AI å·¥å…·"),
    templates: bool = typer.Option(False, "--templates", "-t", help="æ›´æ–°æ¨¡æ¿åˆ°æœ€æ–°ç‰ˆæœ¬"),
    force: bool = typer.Option(False, "--force", "-f", help="å¼ºåˆ¶è¦†ç›–"),
):
    """æ›´æ–°é…ç½®ã€æ–œæ å‘½ä»¤æˆ–æ¨¡æ¿"""
```

**æ›´æ–°ç›®æ ‡**:

| ç›®æ ‡ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `commands` | æ›´æ–°æ–œæ å‘½ä»¤æ¨¡æ¿ | `cc-spec update commands` |
| `subagent` | æ›´æ–° Subagent é…ç½® | `cc-spec update subagent` |
| `agents` | ç®¡ç† AI å·¥å…·é…ç½® | `cc-spec update agents` |
| `all` | æ›´æ–°æ‰€æœ‰ï¼ˆé»˜è®¤ï¼‰ | `cc-spec update` |

**æ·»åŠ  AI å·¥å…·**:

```bash
# æ·»åŠ å•ä¸ªå·¥å…·
cc-spec update --add-agent gemini

# æ·»åŠ å¤šä¸ªå·¥å…·
cc-spec update --add-agent gemini --add-agent amazonq

# æ›´æ–°æ¨¡æ¿åˆ°æœ€æ–°ç‰ˆæœ¬
cc-spec update --templates
```

**æ›´æ–°æœºåˆ¶**:

ä½¿ç”¨æ‰˜ç®¡æ ‡è®°å—ä¿æŠ¤ç”¨æˆ·è‡ªå®šä¹‰å†…å®¹ï¼š

```markdown
---
description: ç”¨æˆ·è‡ªå®šä¹‰çš„æè¿° (ä¿ç•™)
---

ç”¨æˆ·è‡ªå®šä¹‰å†…å®¹ (ä¿ç•™)

<!-- CC-SPEC:START -->
## å·¥ä½œæµ: cc-spec specify

æ‰˜ç®¡å†…å®¹ (æ›´æ–°)
<!-- CC-SPEC:END -->

ç”¨æˆ·è‡ªå®šä¹‰å†…å®¹ (ä¿ç•™)
```

---

## ID ç®¡ç†æœºåˆ¶

### ID æ ¼å¼

```yaml
å˜æ›´ ID:
  æ ¼å¼: C-{åºå·}
  ç¤ºä¾‹: C-001, C-002, C-003
  ç”Ÿæˆè§„åˆ™: é€’å¢åºå·ï¼Œä¿ç•™å‰å¯¼é›¶

ä»»åŠ¡ ID:
  æ ¼å¼: {å˜æ›´ID}:{ä»»åŠ¡å·}
  ç¤ºä¾‹: C-001:01-SETUP, C-001:02-MODEL
  ç”Ÿæˆè§„åˆ™: å˜æ›´ ID + ä»»åŠ¡åŸå§‹ ID

è§„æ ¼ ID:
  æ ¼å¼: S-{èƒ½åŠ›å}
  ç¤ºä¾‹: S-auth, S-user-management
  ç”Ÿæˆè§„åˆ™: S- + è§„æ ¼ç›®å½•å

å½’æ¡£ ID:
  æ ¼å¼: A-{æ—¥æœŸ}-{åºå·}
  ç¤ºä¾‹: A-20240115-001
  ç”Ÿæˆè§„åˆ™: A- + å½’æ¡£æ—¥æœŸ + åºå·
```

### ID ç®¡ç†æ¨¡å—

```python
# core/id_manager.py

from pathlib import Path
from dataclasses import dataclass
from enum import Enum

class IDType(Enum):
    CHANGE = "C"
    TASK = "T"
    SPEC = "S"
    ARCHIVE = "A"

@dataclass
class ParsedID:
    type: IDType
    change_id: str | None
    task_id: str | None
    full_id: str

class IDManager:
    """ID ç®¡ç†å™¨"""

    def __init__(self, cc_spec_root: Path):
        self.cc_spec_root = cc_spec_root
        self._id_map: dict[str, Path] = {}
        self._load_id_map()

    def _load_id_map(self):
        """åŠ è½½ ID æ˜ å°„è¡¨"""
        # ä» .cc-spec/id-map.yaml åŠ è½½
        # æˆ–æ‰«æç›®å½•åŠ¨æ€ç”Ÿæˆ
        ...

    def generate_change_id(self) -> str:
        """ç”Ÿæˆæ–°çš„å˜æ›´ ID"""
        existing = [k for k in self._id_map if k.startswith("C-")]
        next_num = len(existing) + 1
        return f"C-{next_num:03d}"

    def parse_id(self, id_str: str) -> ParsedID:
        """è§£æ ID å­—ç¬¦ä¸²"""
        if ":" in id_str:
            # ä»»åŠ¡ ID: C-001:02-MODEL
            change_id, task_id = id_str.split(":", 1)
            return ParsedID(
                type=IDType.TASK,
                change_id=change_id,
                task_id=task_id,
                full_id=id_str,
            )
        elif id_str.startswith("C-"):
            return ParsedID(
                type=IDType.CHANGE,
                change_id=id_str,
                task_id=None,
                full_id=id_str,
            )
        elif id_str.startswith("S-"):
            return ParsedID(
                type=IDType.SPEC,
                change_id=None,
                task_id=None,
                full_id=id_str,
            )
        elif id_str.startswith("A-"):
            return ParsedID(
                type=IDType.ARCHIVE,
                change_id=None,
                task_id=None,
                full_id=id_str,
            )
        else:
            # å°è¯•ä½œä¸ºå˜æ›´åç§°è§£æ
            return self._resolve_by_name(id_str)

    def resolve_path(self, id_str: str) -> Path | None:
        """æ ¹æ® ID è§£æå®é™…è·¯å¾„"""
        parsed = self.parse_id(id_str)
        return self._id_map.get(parsed.full_id)

    def register_change(self, name: str, path: Path) -> str:
        """æ³¨å†Œæ–°å˜æ›´ï¼Œè¿”å›ç”Ÿæˆçš„ ID"""
        new_id = self.generate_change_id()
        self._id_map[new_id] = path
        self._save_id_map()
        return new_id
```

### ID æ˜ å°„æ–‡ä»¶

```yaml
# .cc-spec/id-map.yaml
version: "1.0"

changes:
  C-001:
    name: add-oauth
    path: changes/add-oauth
    created: "2024-01-15T10:00:00Z"
  C-002:
    name: fix-login-bug
    path: changes/fix-login-bug
    created: "2024-01-16T09:00:00Z"

specs:
  S-auth:
    path: specs/auth
  S-user:
    path: specs/user-management

archive:
  A-20240110-001:
    name: initial-setup
    path: changes/archive/2024-01-10-initial-setup
```

---

## Subagent å…¬å…±é…ç½®

### æ‰©å±• config.yaml

```yaml
# .cc-spec/config.yaml
version: "1.1"  # ç‰ˆæœ¬å‡çº§
agent: "claude"
project_name: "my-project"

# æ‰©å±•çš„ Subagent é…ç½®
subagent:
  # å…¬å…±é…ç½®ï¼ˆæ‰€æœ‰ Subagent ç»§æ‰¿ï¼‰
  common:
    model: "sonnet[1m]"
    timeout: 300000
    permissionMode: "acceptEdits"
    tools: "Read,Write,Edit,Glob,Grep,Bash"

  # é…ç½®æ¨¡æ¿ï¼ˆæŒ‰ä»»åŠ¡ç±»å‹é€‰ç”¨ï¼‰
  profiles:
    quick:
      model: "haiku"
      timeout: 60000
      description: "å¿«é€Ÿä»»åŠ¡ï¼šç®€å•ä¿®æ”¹ã€å°åŠŸèƒ½"

    heavy:
      model: "opus"
      timeout: 600000
      description: "é‡å‹ä»»åŠ¡ï¼šå¤æ‚é‡æ„ã€æ¶æ„è®¾è®¡"

    explore:
      model: "sonnet[1m]"
      timeout: 180000
      tools: "Read,Glob,Grep,WebFetch,WebSearch"
      description: "æ¢ç´¢ä»»åŠ¡ï¼šä»£ç è°ƒç ”ã€æ–‡æ¡£æŸ¥æ‰¾"

# AI å·¥å…·é…ç½®
agents:
  enabled:
    - claude
    - cursor
  available:
    - claude
    - cursor
    - gemini
    - copilot
    - amazonq
    - windsurf
    - qwen
    # ... 17+ å·¥å…·

checklist:
  pass_threshold: 80
  auto_retry: false
```

### é…ç½®æ•°æ®ç»“æ„

```python
# core/config.py (æ‰©å±•)

@dataclass
class SubAgentProfile:
    """Subagent é…ç½®æ¨¡æ¿"""
    model: str = "sonnet"
    timeout: int = 300000
    permissionMode: str = "default"
    tools: str | None = None
    description: str = ""

@dataclass
class SubAgentConfig:
    """Subagent é…ç½®ï¼ˆæ‰©å±•ï¼‰"""
    max_concurrent: int = 10

    # v1.1 æ–°å¢
    common: SubAgentProfile = field(default_factory=SubAgentProfile)
    profiles: dict[str, SubAgentProfile] = field(default_factory=dict)

    def get_profile(self, name: str) -> SubAgentProfile:
        """è·å–é…ç½®æ¨¡æ¿ï¼ˆç»§æ‰¿ commonï¼‰"""
        if name not in self.profiles:
            return self.common

        profile = self.profiles[name]
        # åˆå¹¶ common é…ç½®
        return SubAgentProfile(
            model=profile.model or self.common.model,
            timeout=profile.timeout or self.common.timeout,
            permissionMode=profile.permissionMode or self.common.permissionMode,
            tools=profile.tools or self.common.tools,
            description=profile.description,
        )
```

### åœ¨ tasks.md ä¸­æŒ‡å®š profile

```markdown
### Task: 01-SETUP
**é¢„ä¼°ä¸Šä¸‹æ–‡**: ~30k tokens
**çŠ¶æ€**: ğŸŸ¦ ç©ºé—²
**Profile**: quick  â† æ–°å¢ï¼šæŒ‡å®šä½¿ç”¨ quick æ¨¡æ¿

**Checklist**:
- [ ] åˆ›å»ºé…ç½®æ–‡ä»¶
- [ ] æ·»åŠ ç¯å¢ƒå˜é‡

---

### Task: 02-REFACTOR
**é¢„ä¼°ä¸Šä¸‹æ–‡**: ~100k tokens
**çŠ¶æ€**: ğŸŸ¦ ç©ºé—²
**Profile**: heavy  â† æ–°å¢ï¼šæŒ‡å®šä½¿ç”¨ heavy æ¨¡æ¿

**Checklist**:
- [ ] é‡æ„è®¤è¯æ¨¡å—
- [ ] æ›´æ–°æ‰€æœ‰è°ƒç”¨ç‚¹
```

---

## æ–œæ å‘½ä»¤ç”Ÿæˆ

### å‘½ä»¤ç”Ÿæˆå™¨

```python
# core/command_generator.py

from abc import ABC, abstractmethod
from pathlib import Path

class CommandGenerator(ABC):
    """å‘½ä»¤ç”Ÿæˆå™¨åŸºç±»"""

    file_format: str  # markdown / toml
    folder: str       # å‘½ä»¤æ–‡ä»¶å¤¹

    @abstractmethod
    def generate_command(self, cmd_name: str, project_path: Path) -> Path:
        """ç”Ÿæˆå•ä¸ªå‘½ä»¤æ–‡ä»¶"""
        ...

    def generate_all(self, project_path: Path):
        """ç”Ÿæˆæ‰€æœ‰å‘½ä»¤"""
        commands = [
            "specify", "clarify", "plan", "apply",
            "checklist", "archive", "quick-delta",
            "list", "goto", "update",  # v1.1 æ–°å¢
        ]
        for cmd in commands:
            self.generate_command(cmd, project_path)

    def update_command(self, cmd_name: str, project_path: Path) -> Path:
        """æ›´æ–°å‘½ä»¤æ–‡ä»¶ï¼ˆä¿ç•™ç”¨æˆ·è‡ªå®šä¹‰å†…å®¹ï¼‰"""
        ...

class ClaudeCommandGenerator(CommandGenerator):
    file_format = "markdown"
    folder = ".claude/commands/speckit/"

class CursorCommandGenerator(CommandGenerator):
    file_format = "markdown"
    folder = ".cursor/commands/"

class GeminiCommandGenerator(CommandGenerator):
    file_format = "toml"
    folder = ".gemini/commands/speckit/"

# ç”Ÿæˆå™¨æ³¨å†Œè¡¨
COMMAND_GENERATORS = {
    "claude": ClaudeCommandGenerator,
    "cursor": CursorCommandGenerator,
    "gemini": GeminiCommandGenerator,
    "copilot": CopilotCommandGenerator,
    "amazonq": AmazonQCommandGenerator,
    "windsurf": WindsurfCommandGenerator,
    "qwen": QwenCommandGenerator,
    # ... 17+ å·¥å…·
}
```

### å‘½ä»¤æ¨¡æ¿ç¤ºä¾‹

**Claude Code** (`.claude/commands/speckit/list.md`):

```markdown
---
description: åˆ—å‡ºå˜æ›´ã€ä»»åŠ¡ã€è§„æ ¼æˆ–å½’æ¡£è®°å½•
allowed-tools: Bash, Read, Glob
---

<!-- CC-SPEC:START -->
## å·¥ä½œæµ: cc-spec list

ç”¨æˆ·è¯·æ±‚: $ARGUMENTS

**æ‰§è¡Œæ­¥éª¤**:
1. è§£æå‚æ•°ç¡®å®šåˆ—è¡¨ç±»å‹ (changes/tasks/specs/archive)
2. è¿è¡Œ `cc-spec list $ARGUMENTS`
3. ä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºç»“æœ
4. æç¤ºå¯ç”¨çš„ä¸‹ä¸€æ­¥æ“ä½œ

**å­å‘½ä»¤å‚è€ƒ**:
- `list changes` - åˆ—å‡ºæ‰€æœ‰å˜æ›´
- `list tasks` - åˆ—å‡ºå½“å‰å˜æ›´çš„ä»»åŠ¡
- `list tasks -c C-001` - åˆ—å‡ºæŒ‡å®šå˜æ›´çš„ä»»åŠ¡
- `list specs` - åˆ—å‡ºæ‰€æœ‰è§„æ ¼
- `list archive` - åˆ—å‡ºå½’æ¡£è®°å½•
<!-- CC-SPEC:END -->
```

**Gemini CLI** (`.gemini/commands/speckit/list.toml`):

```toml
description = "åˆ—å‡ºå˜æ›´ã€ä»»åŠ¡ã€è§„æ ¼æˆ–å½’æ¡£è®°å½•"

[prompt]
content = """
<!-- CC-SPEC:START -->
## å·¥ä½œæµ: cc-spec list

ç”¨æˆ·è¯·æ±‚: {{args}}

**æ‰§è¡Œæ­¥éª¤**:
1. è§£æå‚æ•°ç¡®å®šåˆ—è¡¨ç±»å‹
2. è¿è¡Œ `cc-spec list {{args}}`
3. å±•ç¤ºç»“æœ
<!-- CC-SPEC:END -->
"""
```

---

## ç°æœ‰å‘½ä»¤æ”¹é€ 

### æ·»åŠ  ID å‚æ•°

æ‰€æœ‰ç°æœ‰å‘½ä»¤æ·»åŠ å¯é€‰çš„ `id` å‚æ•°ï¼š

```python
# ä»¥ specify ä¸ºä¾‹
@app.command()
def specify(
    name_or_id: str = typer.Argument(..., help="å˜æ›´åç§°æˆ– ID"),
    template: str = typer.Option("default", help="æ¨¡æ¿ç±»å‹"),
):
    """åˆ›å»ºæˆ–ç¼–è¾‘å˜æ›´è§„æ ¼"""
    id_manager = IDManager(find_cc_spec_root())

    # åˆ¤æ–­æ˜¯ ID è¿˜æ˜¯åç§°
    if name_or_id.startswith("C-"):
        # æ˜¯ IDï¼Œè§£æå¹¶è·³è½¬
        path = id_manager.resolve_path(name_or_id)
        if path:
            # ç¼–è¾‘ç°æœ‰å˜æ›´
            edit_proposal(path)
        else:
            console.print(f"[red]æœªæ‰¾åˆ°å˜æ›´: {name_or_id}[/red]")
    else:
        # æ˜¯åç§°ï¼Œåˆ›å»ºæ–°å˜æ›´
        create_new_change(name_or_id, template)
```

### å‘½ä»¤ç­¾åå˜æ›´

| å‘½ä»¤ | v1.0 ç­¾å | v1.1 ç­¾å |
|------|-----------|-----------|
| `specify` | `specify <name>` | `specify <name_or_id>` |
| `clarify` | `clarify [task_id]` | `clarify [id]` |
| `plan` | `plan [change]` | `plan [id]` |
| `apply` | `apply [change]` | `apply [id]` |
| `checklist` | `checklist [change]` | `checklist [id]` |
| `archive` | `archive [change]` | `archive [id]` |

---

## æ¨¡å—æ¶æ„æ›´æ–°

```
src/cc_spec/
â”œâ”€â”€ __init__.py              # æ³¨å†Œ 11 ä¸ªå‘½ä»¤ (+3)
â”œâ”€â”€ commands/
â”‚   â”œâ”€â”€ init.py
â”‚   â”œâ”€â”€ specify.py           # ä¿®æ”¹ï¼šæ”¯æŒ ID
â”‚   â”œâ”€â”€ clarify.py           # ä¿®æ”¹ï¼šæ”¯æŒ ID
â”‚   â”œâ”€â”€ plan.py              # ä¿®æ”¹ï¼šæ”¯æŒ ID
â”‚   â”œâ”€â”€ apply.py             # ä¿®æ”¹ï¼šæ”¯æŒ ID + Profile
â”‚   â”œâ”€â”€ checklist.py         # ä¿®æ”¹ï¼šæ”¯æŒ ID
â”‚   â”œâ”€â”€ archive.py           # ä¿®æ”¹ï¼šæ”¯æŒ ID
â”‚   â”œâ”€â”€ quick_delta.py
â”‚   â”œâ”€â”€ list.py              # æ–°å¢
â”‚   â”œâ”€â”€ goto.py              # æ–°å¢
â”‚   â””â”€â”€ update.py            # æ–°å¢
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ config.py            # ä¿®æ”¹ï¼šæ‰©å±• SubAgentConfig
â”‚   â”œâ”€â”€ state.py
â”‚   â”œâ”€â”€ templates.py
â”‚   â”œâ”€â”€ id_manager.py        # æ–°å¢
â”‚   â””â”€â”€ command_generator.py # æ–°å¢
â”œâ”€â”€ subagent/
â”‚   â”œâ”€â”€ executor.py          # ä¿®æ”¹ï¼šä½¿ç”¨ Profile é…ç½®
â”‚   â”œâ”€â”€ task_parser.py       # ä¿®æ”¹ï¼šè§£æ Profile å­—æ®µ
â”‚   â””â”€â”€ result_collector.py
â”œâ”€â”€ ui/
â”‚   â””â”€â”€ ...
â””â”€â”€ utils/
    â””â”€â”€ ...
```

---

*è®¾è®¡åŸºäº v1.0 ç°æœ‰å®ç°å’Œ v1.1 éœ€æ±‚åˆ†æ*
