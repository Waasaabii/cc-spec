# 02 - ç°çŠ¶åˆ†æ

## ç°æœ‰å®ç°åˆ†æ

### Spec-Kit CLI ç»“æ„

**ä½ç½®**: `reference/spec-kit/src/specify_cli/__init__.py`

```python
# æŠ€æœ¯æ ˆ
- typer          # CLI æ¡†æ¶
- rich           # ç»ˆç«¯ç¾åŒ–ï¼ˆPanel, Table, Tree, Progressï¼‰
- httpx          # HTTP è¯·æ±‚ï¼ˆä¸‹è½½æ¨¡æ¿ï¼‰
- readchar       # è·¨å¹³å°é”®ç›˜è¾“å…¥
- truststore     # SSL è¯ä¹¦å¤„ç†
```

**æ ¸å¿ƒåŠŸèƒ½**:
- `specify init [project]` - åˆå§‹åŒ–é¡¹ç›®ï¼Œä¸‹è½½æ¨¡æ¿
- `specify check` - æ£€æŸ¥å·¥å…·å®‰è£…çŠ¶æ€
- `specify version` - æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

**æ”¯æŒçš„ AI å·¥å…·** (`AGENT_CONFIG`):
| å·¥å…· | ç›®å½• | CLI éœ€æ±‚ |
|------|------|----------|
| claude | `.claude/` | éœ€è¦ |
| gemini | `.gemini/` | éœ€è¦ |
| copilot | `.github/` | IDE |
| cursor-agent | `.cursor/` | IDE |
| qwen | `.qwen/` | éœ€è¦ |
| opencode | `.opencode/` | éœ€è¦ |
| codex | `~/.codex/`ï¼ˆç”¨æˆ·ç›®å½•ï¼‰ | éœ€è¦ |
| windsurf | `.windsurf/` | IDE |
| kilocode | `.kilocode/` | IDE |
| auggie | `.augment/` | éœ€è¦ |
| codebuddy | `.codebuddy/` | éœ€è¦ |
| qoder | `.qoder/` | éœ€è¦ |
| roo | `.roo/` | IDE |
| q | `.amazonq/` | éœ€è¦ |
| amp | `.agents/` | éœ€è¦ |
| shai | `.shai/` | éœ€è¦ |
| bob | `.bob/` | IDE |

**æ¨¡æ¿æ–‡ä»¶**: `reference/spec-kit/templates/`
- `spec-template.md` - User Story + Given/When/Then
- `plan-template.md` - Phase 0/1 + Constitution Check
- `tasks-template.md` - [P] å¹¶è¡Œæ ‡è®° + Phase åˆ†é˜¶æ®µ
- `checklist-template.md` - CHK ç¼–å·æ ¼å¼
- `commands/*.md` - æ–œæ å‘½ä»¤æ¨¡æ¿

---

### OpenSpec å½’æ¡£è§„èŒƒ

**ä½ç½®**: `reference/OpenSpec/openspec/`

**ç›®å½•ç»“æ„**:
```
openspec/
â”œâ”€â”€ project.md              # é¡¹ç›®çº¦å®š
â”œâ”€â”€ specs/                  # å½“å‰çœŸå®çŠ¶æ€ï¼ˆå·²æ„å»ºï¼‰
â”‚   â””â”€â”€ [capability]/
â”‚       â”œâ”€â”€ spec.md
â”‚       â””â”€â”€ design.md
â”œâ”€â”€ changes/                # å˜æ›´ææ¡ˆ
â”‚   â”œâ”€â”€ [change-name]/
â”‚   â”‚   â”œâ”€â”€ proposal.md     # Why + What Changes + Impact
â”‚   â”‚   â”œâ”€â”€ tasks.md        # å®ç°æ¸…å•
â”‚   â”‚   â”œâ”€â”€ design.md       # æŠ€æœ¯å†³ç­–ï¼ˆå¯é€‰ï¼‰
â”‚   â”‚   â””â”€â”€ specs/          # Delta å˜æ›´
â”‚   â”‚       â””â”€â”€ [capability]/
â”‚   â”‚           â””â”€â”€ spec.md # ADDED/MODIFIED/REMOVED
â”‚   â””â”€â”€ archive/            # å·²å®Œæˆå˜æ›´
â”‚       â””â”€â”€ YYYY-MM-DD-[name]/
```

**Delta æ ¼å¼**:
```markdown
## ADDED Requirements
### Requirement: New Feature
The system SHALL...
#### Scenario: Success case

## MODIFIED Requirements
### Requirement: Existing Feature
[å®Œæ•´ä¿®æ”¹åçš„å†…å®¹]

## REMOVED Requirements
### Requirement: Old Feature
**Reason**: ...
**Migration**: ...

## RENAMED Requirements
- FROM: `### Requirement: Old Name`
- TO: `### Requirement: New Name`
```

**å½’æ¡£æµç¨‹**:
1. æ£€æŸ¥ tasks.md æ˜¯å¦å…¨éƒ¨å®Œæˆ
2. æ˜¾ç¤ºå°†æ›´æ–°çš„ specs åˆ—è¡¨
3. ç”¨æˆ·ç¡®è®¤
4. å°† Delta specs åˆå¹¶åˆ°ä¸» specs/
5. ç§»åŠ¨ `changes/[name]/` â†’ `changes/archive/YYYY-MM-DD-[name]/`

---

### auto-dev Task è§„åˆ’æ ¼å¼

**ä½ç½®**: `reference/auto-dev.md`

**Task ç»“æ„**:
```markdown
| Wave | Task-ID | é¢„ä¼° | çŠ¶æ€ | ä¾èµ– |
|------|---------|------|------|------|
| 0 | 01-SETUP | 30k | ğŸŸ¦ ç©ºé—² | - |
| 1 | 02-MODEL | 50k | ğŸŸ¦ ç©ºé—² | 01-SETUP |
| 1 | 03-API | 45k | ğŸŸ¦ ç©ºé—² | 01-SETUP |
| 2 | 04-FE | 60k | ğŸŸ¦ ç©ºé—² | 03-API |
```

**Task è¯¦æƒ…**:
```markdown
#### Task: 01-SETUP
**é¢„ä¼°ä¸Šä¸‹æ–‡**: ~30k tokens
**çŠ¶æ€**: ğŸŸ¦ ç©ºé—²
**ä¾èµ–**: æ— 
**å¿…è¯»æ–‡æ¡£**:
- docs/plan/spec.md
**æ ¸å¿ƒä»£ç å…¥å£**:
- src/config/
**Checklist**:
- [ ] åˆ›å»ºé…ç½®æ–‡ä»¶
- [ ] æ·»åŠ ç¯å¢ƒå˜é‡
```

**å¹¶å‘æ§åˆ¶**:
- æœ€å¤§ 10-15 ä¸ª Claude å®ä¾‹å¹¶è¡Œ
- Git é”æœºåˆ¶åè°ƒï¼ˆ`git commit -m "lock: å¼€å§‹æ‰§è¡Œ Task-XX"`ï¼‰
- Wave åˆ†ç»„ä¿è¯ä¾èµ–é¡ºåº

---

### SubAgent è°ƒç ”ç»“æœ

**æµ‹è¯•ä½ç½®**: å½“å‰ä¼šè¯ä¸­å®é™…æµ‹è¯•

**å¹¶å‘èƒ½åŠ›**:
| æµ‹è¯• | ç»“æœ |
|------|------|
| 3 ä¸ªå¹¶å‘ | âœ… æˆåŠŸ |
| 5 ä¸ªå¹¶å‘ | âœ… æˆåŠŸ |
| 10 ä¸ªå¹¶å‘ | âœ… æˆåŠŸ |

**è°ƒç”¨æ–¹å¼**:
```python
# å¯åŠ¨ SubAgent
Task(
    subagent_type="general-purpose",
    prompt="ä»»åŠ¡æè¿°",
    run_in_background=True
)

# æ”¶é›†ç»“æœ
TaskOutput(
    task_id="agentId",
    block=True,
    timeout=30000
)
```

**å¯ç”¨ SubAgent ç±»å‹**:
- `general-purpose` - é€šç”¨ä»»åŠ¡
- `Explore` - ä»£ç åº“æ¢ç´¢
- `Plan` - è®¾è®¡å®ç°æ–¹æ¡ˆ

---

## ç¼ºå£åˆ†æ

| ç°çŠ¶ | ç¼ºå£ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| Spec-Kit éœ€è¦åˆ›å»ºå®Œæ•´é¡¹ç›® | åˆå§‹åŒ–è¿‡äºç¹ç | åªä¸‹è½½æ¨¡æ¿åˆ° `.cc-spec/` |
| OpenSpec CLI æ˜¯ TypeScript | ä¸ Spec-Kit æŠ€æœ¯æ ˆä¸ç»Ÿä¸€ | ç»Ÿä¸€ä½¿ç”¨ Python + uv |
| auto-dev ä¾èµ– Git é” | å•å®ä¾‹åœºæ™¯ä¸éœ€è¦å¤–éƒ¨åè°ƒ | ä½¿ç”¨ SubAgent å†…éƒ¨å¹¶å‘ |
| Spec-Kit æ— å½’æ¡£æœºåˆ¶ | å˜æ›´å†å²æ— æ³•è¿½è¸ª | å¼•å…¥ OpenSpec archive è§„èŒƒ |
| å„å·¥å…·æ‰§è¡Œé˜¶æ®µæ— å¹¶å‘ | Token æ¶ˆè€—é«˜ã€æ•ˆç‡ä½ | SubAgent æœ€å¤š 10 ä¸ªå¹¶å‘ |
| æ— æ‰“åˆ†éªŒæ”¶æœºåˆ¶ | è´¨é‡æ— æ³•ä¿è¯ | å¼•å…¥ checklist æ‰“åˆ†ï¼Œ<80 åˆ†æ‰“å› |
| æ— è¶…ç®€å•æ¨¡å¼ | å°æ”¹åŠ¨æµç¨‹è¿‡é‡ | å¢åŠ  quick-delta ä¸€æ­¥è®°å½• |
